import pymysqlclass Dept:    def __init__(self, no, name, location):        self.no = no        self.name = name        self.location = location    def __str__(self):        return f'{self.no}\t{self.name}\t{self.location}'def main():    # 创建MySQL连接对象    conn = pymysql.connect(host='127.0.0.1', port=3306,                           user='root', password='123456',                           database='HR', charset='utf8',                           cursorclass=pymysql.cursors.DictCursor)    # print(conn)    # 获取游标，with上下文语法    try:        with conn.cursor() as cursor:            sql = 'select dno as no, dname as name, dloc as location from tb_dept'            # print(repr(loc))            # print(sql)            cursor.execute(sql)            """            默认得到的是一个元组            在connect中添加参数cursor为DictCursor,则返回一个字典类型的            """            # print(cursor.fetchone())  # 获取一个            # print(cursor.fetchmany(2))  # 获取多个            # print(cursor.fetchall())  # 获取全部            for row in cursor.fetchall():                dept = Dept(**row)                print(dept)            conn.commit()  # 提交事务    except pymysql.MySQLError as error:        print(error)        conn.rollback()  # 失败则回滚    finally:        conn.close()  # 关闭连接，避免浪费资源if __name__ == '__main__':    main()