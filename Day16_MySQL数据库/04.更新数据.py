import pymysqldef main():    no = int(input('要编辑的部门编号：'))    loc = input('输入部门新地址：')    # 创建连接对象    conn = pymysql.connect(host='127.0.0.1', port=3306,                           user='root', password='123456',                           database='HR', charset='utf8')    # print(conn)    # 获取游标，with上下文语法    try:        with conn.cursor() as cursor:            # sql = 'update tb_dept set dloc=%s where dno=%s'            """            使用的pymysql在插入数据的时候，如果是vchar类型的，需要加入单引号，            即name = "'door'"，其中还要有一个引号，对应矩阵存储，要先用str()进行转化，            然后在加单引号才能成功。python里面提供了repr()函数可以自动将其加上引号，            """            sql = 'update tb_dept set dloc={} where dno={}'.format(repr(loc), no)            # print(repr(loc))            # print(sql)            result = cursor.execute(sql)            # 输出为1表示影响了一行，则成功            if result == 1:                print('更新成功')                # 操作成功则提交事务            conn.commit()  # 提交事务    except pymysql.MySQLError as error:        print(error)        conn.rollback()  # 失败则回滚    finally:        conn.close()  # 关闭连接，避免浪费资源if __name__ == '__main__':    main()