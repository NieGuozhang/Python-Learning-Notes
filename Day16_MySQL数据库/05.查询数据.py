import pymysqldef main():    # 创建连接对象    conn = pymysql.connect(host='127.0.0.1', port=3306,                           user='root', password='123456',                           database='HR', charset='utf8')    # print(conn)    # 获取游标，with上下文语法    try:        with conn.cursor() as cursor:            sql = 'select dno, dname, dloc from tb_dept'            # print(repr(loc))            # print(sql)            cursor.execute(sql)            print(cursor.fetchall())            conn.commit()  # 提交事务    except pymysql.MySQLError as error:        print(error)        conn.rollback()  # 失败则回滚    finally:        conn.close()  # 关闭连接，避免浪费资源if __name__ == '__main__':    main()